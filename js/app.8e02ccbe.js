(function(e){function t(t){for(var o,i,s=t[0],b=t[1],c=t[2],d=0,r=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(l,i)&&l[i]&&r.push(l[i][0]),l[i]=0;for(o in b)Object.prototype.hasOwnProperty.call(b,o)&&(e[o]=b[o]);u&&u(t);while(r.length)r.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var b=n[s];0!==l[b]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},l={app:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue-booking/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],b=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=b;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3f72":function(e,t,n){},4327:function(e,t,n){},"551b":function(e,t,n){"use strict";n("a53b")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),l=Object(o["f"])("h1",null,"Create tables",-1);function a(e,t,n,a,i,s){var b=Object(o["m"])("set-tables"),c=Object(o["m"])("table-list");return Object(o["h"])(),Object(o["c"])(o["a"],null,[l,e.$store.state.tableIsSet?Object(o["d"])("",!0):(Object(o["h"])(),Object(o["c"])(b,{key:0})),Object(o["f"])(c)],64)}var i=Object(o["r"])("data-v-22726801");Object(o["j"])("data-v-22726801");var s={class:"seats"},b={class:"table-count"},c=Object(o["f"])("div",{class:"title"},"Table Count:",-1);Object(o["i"])();var u=i((function(e,t,n,l,a,i){var u=Object(o["m"])("set-seats");return Object(o["h"])(),Object(o["c"])("div",s,[Object(o["f"])("div",b,[c,Object(o["q"])(Object(o["f"])("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.tableCount=e})},null,512),[[o["o"],a.tableCount,void 0,{number:!0}]])]),Object(o["f"])(u,{tableCount:a.tableCount},null,8,["tableCount"])])})),d=Object(o["r"])("data-v-133f2272");Object(o["j"])("data-v-133f2272");var r={key:0,class:"title"},f=Object(o["e"])(" Seats: ");Object(o["i"])();var j=d((function(e,t,n,l,a,i){return n.tableCount?(Object(o["h"])(),Object(o["c"])("div",r,[f,Object(o["f"])("ul",null,[(Object(o["h"])(!0),Object(o["c"])(o["a"],null,Object(o["l"])(n.tableCount,(function(t,n){return Object(o["h"])(),Object(o["c"])("li",{key:n},[Object(o["f"])("div",null,Object(o["n"])(t)+"/  ",1),Object(o["q"])(Object(o["f"])("input",{type:"number","onUpdate:modelValue":function(n){return e.$store.state.seats[t-1]=n}},null,8,["onUpdate:modelValue"]),[[o["o"],e.$store.state.seats[t-1]]])])})),128))]),Object(o["f"])("button",{onClick:t[1]||(t[1]=function(){return i.setTable&&i.setTable.apply(i,arguments)})},"Create seats")])):Object(o["d"])("",!0)})),O={name:"set-seats",props:["tableCount"],data:function(){return{}},methods:{setTable:function(){this.$store.commit("setTable")}}};O.render=j,O.__scopeId="data-v-133f2272";var p=O,k={name:"set-tables",props:{},data:function(){return{tableCount:null}},components:{setSeats:p}};n("551b");k.render=u,k.__scopeId="data-v-22726801";var g=k,m=(n("b0c0"),Object(o["r"])("data-v-11be296d"));Object(o["j"])("data-v-11be296d");var h={key:0,class:"table-list"},v={class:"table-list-info"},I={key:0,class:"bookingInfo"},D=Object(o["f"])("li",null,[Object(o["f"])("span",{class:"title"},"訂位大名"),Object(o["f"])("span")],-1),M=Object(o["f"])("li",null,[Object(o["f"])("span",{class:"title"},"連絡電話"),Object(o["f"])("span")],-1),y=Object(o["f"])("span",{class:"title"},"座位資訊",-1),T=Object(o["f"])("li",null,[Object(o["f"])("span",{class:"title"},"訂位時間"),Object(o["f"])("span")],-1),C={key:1,class:"bookingInfo"},_=Object(o["f"])("span",{class:"title"},"訂位大名",-1),$=Object(o["f"])("span",{class:"title"},"連絡電話",-1),q=Object(o["f"])("span",{class:"title"},"座位資訊",-1),w=Object(o["f"])("span",{class:"title"},"訂位時間",-1),S={class:"table-list-item"};Object(o["i"])();var x=m((function(e,t,n,l,a,i){var s=Object(o["m"])("booking-modal");return e.$store.state.tableIsSet?(Object(o["h"])(),Object(o["c"])("div",h,[Object(o["f"])("ul",null,[(Object(o["h"])(!0),Object(o["c"])(o["a"],null,Object(o["l"])(e.$store.state.seats,(function(e,t){return Object(o["h"])(),Object(o["c"])("li",{class:"table-list-item",key:t,onDblclick:function(e){return i.openModal(t)}},[Object(o["f"])("div",v,[a.bookingDetails[t]?Object(o["d"])("",!0):(Object(o["h"])(),Object(o["c"])("ul",I,[D,M,Object(o["f"])("li",null,[y,Object(o["f"])("span",null,"0 / "+Object(o["n"])(e)+"位",1)]),T])),a.bookingDetails[t]?(Object(o["h"])(),Object(o["c"])("ul",C,[Object(o["f"])("li",null,[_,Object(o["f"])("span",null,Object(o["n"])(a.bookingDetails[t].name),1)]),Object(o["f"])("li",null,[$,Object(o["f"])("span",null,Object(o["n"])(a.bookingDetails[t].phone),1)]),Object(o["f"])("li",null,[q,Object(o["f"])("span",null,Object(o["n"])(a.bookingDetails[t].seats)+" / "+Object(o["n"])(e)+"位",1)]),Object(o["f"])("li",null,[w,Object(o["f"])("span",null,Object(o["n"])(a.bookingDetails[t].time),1)])])):Object(o["d"])("",!0),Object(o["f"])("button",{class:"resetItem",onClick:function(e){return i.resetItem(t)}},"Reset",8,["onClick"])])],40,["onDblclick"])})),128)),Object(o["f"])("li",S,[Object(o["f"])("div",{class:"table-list-info add-table",onClick:t[1]||(t[1]=function(){return i.addTable&&i.addTable.apply(i,arguments)})},"+")])]),Object(o["f"])(s,{bookingId:a.bookingId,bookingDetail:a.bookingDetails,editMode:a.editMode,addTableModal:a.addTableModal,onCloseModal:i.closeModal,onBookingDone:i.bookingDone,onAddTableDone:i.addTableDone},null,8,["bookingId","bookingDetail","editMode","addTableModal","onCloseModal","onBookingDone","onAddTableDone"])])):Object(o["d"])("",!0)})),U=Object(o["r"])("data-v-1b2e95ad");Object(o["j"])("data-v-1b2e95ad");var V={key:0,class:"booking-detail"},A={key:0,action:"#",class:"inputForm"},P=Object(o["f"])("label",{for:"number"},"人數",-1),F=Object(o["f"])("label",{for:"name"},"姓名",-1),B=Object(o["f"])("label",{for:"phone"},"電話",-1),E=Object(o["f"])("label",{for:"time"},"時間",-1),J={key:1,class:"booking-detail"},R={action:"#",class:"inputForm"},X=Object(o["f"])("label",{for:"number"},"此桌座位數",-1);Object(o["i"])();var L=U((function(e,t,n,l,a,i){return Object(o["h"])(),Object(o["c"])(o["a"],null,[null!=n.bookingId?(Object(o["h"])(),Object(o["c"])("div",V,[n.editMode?(Object(o["h"])(),Object(o["c"])("form",A,[P,Object(o["q"])(Object(o["f"])("input",{type:"number",class:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.bookingInfo.seats=e}),required:""},null,512),[[o["o"],a.bookingInfo.seats]]),F,Object(o["q"])(Object(o["f"])("input",{type:"text",id:"name","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.bookingInfo.name=e}),required:""},null,512),[[o["o"],a.bookingInfo.name]]),B,Object(o["q"])(Object(o["f"])("input",{type:"text",id:"phone","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.bookingInfo.phone=e}),required:""},null,512),[[o["o"],a.bookingInfo.phone]]),E,Object(o["q"])(Object(o["f"])("input",{type:"text",id:"time","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.bookingInfo.time=e}),required:""},null,512),[[o["o"],a.bookingInfo.time]]),Object(o["f"])("button",{onClick:t[5]||(t[5]=function(t){e.$emit("bookingDone",a.bookingInfo),i.bookingDone()})},"Booking"),Object(o["f"])("button",{class:"close",onClick:t[6]||(t[6]=function(t){e.$emit("closeModal"),i.closeModal()})},"X")])):Object(o["d"])("",!0)])):Object(o["d"])("",!0),n.addTableModal?(Object(o["h"])(),Object(o["c"])("div",J,[Object(o["f"])("form",R,[X,Object(o["q"])(Object(o["f"])("input",{type:"number",class:"","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.seats=e})},null,512),[[o["o"],a.seats]]),Object(o["f"])("button",{onClick:t[8]||(t[8]=function(t){e.$emit("addTableDone",a.bookingInfoForAdd),i.addTableDone()})},"Create Table"),Object(o["f"])("button",{class:"close",onClick:t[9]||(t[9]=function(t){e.$emit("closeModal"),i.closeModal()})},"X")])])):Object(o["d"])("",!0)],64)})),z={name:"booking-modal",props:["bookingId","bookingDetail","editMode","addTableModal"],emits:["bookingDone","closeModal","addTableDone"],data:function(){return{bookingInfo:{seats:null,name:null,phone:null,time:null},bookingInfoForAdd:{seats:null,name:null,phone:null,time:null},seats:null}},methods:{bookingDone:function(){this.bookingInfo.seats?this.bookingInfo.name?this.bookingInfo.phone?this.bookingInfo.time?this.closeModal():alert("請輸入訂位時間"):alert("請輸入連絡電話"):alert("請輸入姓名"):alert("請輸入訂位座位數量")},addTableDone:function(){this.seats>0?(this.$store.commit("addTable",this.seats),this.bookingInfoForAdd={seats:null,name:null,phone:null,time:null},this.seats=null):alert("座位數不可為0或以下")},closeModal:function(){this.bookingInfo={seats:null,name:null,phone:null,time:null},this.bookingInfoForAdd={seats:null,name:null,phone:null,time:null}},enterEditMode:function(){this.bookingInfo=Object.assign({},this.bookingDetail[this.bookingId]),0==this.bookingInfo.seats&&(this.bookingInfo.seats=null)}},watch:{bookingId:function(){this.enterEditMode()}}};n("d83a");z.render=L,z.__scopeId="data-v-1b2e95ad";var G=z,H={name:"table-list",props:{},data:function(){return{bookingId:null,bookingDetail:{seats:null,name:null,phone:null,time:null},bookingDetails:{},editMode:!1,addTableModal:!1}},components:{bookingModal:G},methods:{openModal:function(e){this.enterEditMode(),this.bookingId=e,this.bookingDetails[this.bookingId]||(this.bookingDetails[this.bookingId]={seats:0,name:null,phone:null,time:null})},closeModal:function(){this.bookingId=null,this.addTableModal=!1},bookingDone:function(e){e.seats&&e.name&&e.phone&&e.time&&(this.bookingDetails[this.bookingId]=Object.assign({},e),this.bookingId=null,this.editMode=!1)},addTableDone:function(e){this.bookingDetails[this.bookingDetails.length+1]=Object.assign({},e),this.bookingId=null,this.addTableModal=!1},enterEditMode:function(){this.editMode=!0},resetItem:function(e){var t=confirm("Reset this booking?");t&&delete this.bookingDetails[e]},deleteItem:function(e){var t=confirm("Delete this booking?");t&&(delete this.bookingDetails[e],this.$store.commit("deleteItem",e))},addTable:function(){this.addTableModal=!0}}};n("56ef7");H.render=x,H.__scopeId="data-v-11be296d";var K=H,N={name:"App",components:{setTables:g,tableList:K}};n("d528");N.render=a;var Q=N,W=(n("a434"),n("5502")),Y=Object(W["a"])({state:{tableIsSet:!1,seats:[]},mutations:{setTable:function(e){e.tableIsSet=!0},recBookingId:function(e,t){e.bookingId=t},openModal:function(e,t){e.bookingDetails[t]?e.bookingDetail=Object.assign({},e.bookingDetails[t]):e.bookingDetail={seats:null,name:null,phone:null,time:null}},bookingDone:function(e){e.bookingDetails[e.bookingId]=Object.assign({},e.bookingDetail)},cancelBooking:function(e){e.bookingId=null,e.bookingDetail={seats:null,name:null,phone:null,time:null}},addTable:function(e,t){e.seats[e.seats.length]=t},deleteItem:function(e,t){e.seats.splice(t,1)}},actions:{},modules:{}});Object(o["b"])(Q).use(Y).mount("#app")},"56ef7":function(e,t,n){"use strict";n("d478")},a53b:function(e,t,n){},d478:function(e,t,n){},d528:function(e,t,n){"use strict";n("4327")},d83a:function(e,t,n){"use strict";n("3f72")}});
//# sourceMappingURL=app.8e02ccbe.js.map